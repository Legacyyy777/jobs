# üß™ –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ `docker compose down -v`

### 1. –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
docker-compose down -v

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
docker-compose up -d

# –ñ–¥–µ–º 30 —Å–µ–∫—É–Ω–¥
sleep 30

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
docker-compose ps
```

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç
```bash
chmod +x test_recovery.sh
./test_recovery.sh
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä—É—á–Ω—É—é
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–î
docker exec painter_bot_db psql -U postgres -d painter_bot -c "SELECT COUNT(*) FROM users;"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
docker logs painter_bot --tail 20
```

## –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ `docker compose down -v` –∏ `docker-compose up -d`:

‚úÖ **PostgreSQL –∑–∞–ø—É—â–µ–Ω**  
‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö `painter_bot` —Å–æ–∑–¥–∞–Ω–∞**  
‚úÖ **–¢–∞–±–ª–∏—Ü—ã `users` –∏ `orders` —Å—É—â–µ—Å—Ç–≤—É—é—Ç**  
‚úÖ **–ë–æ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ –ë–î**  
‚úÖ **–ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö**  

## –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose restart

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
docker logs painter_bot --tail 50
docker logs painter_bot_db --tail 50

# –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞
docker-compose down
docker-compose up -d
```

## –õ–æ–≥–∏ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

**–£—Å–ø–µ—à–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ:**
```
‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö 'painter_bot' —Å–æ–∑–¥–∞–Ω–∞ —É—Å–ø–µ—à–Ω–æ
‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —É—Å–ø–µ—à–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
```
‚ùå –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö 'painter_bot' –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
‚ö†Ô∏è –ë–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ —Ä–µ–∂–∏–º–µ –±–µ–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```
